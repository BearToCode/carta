import{s as oa,d as n,i as e,l as k,c,m as $,g as u,e as q,p as W,h as i,j as r,H as z,n as ta}from"./CXWpkiB0.js";import{S as la,i as ca,d as V,t as X,a as Y,m as Z,c as aa,b as sa}from"./FoG9SWyi.js";import{C as na}from"./B9QsPoTl.js";function ia(H){let t,o,m=`<code class="language-ts"><span class="token keyword">import</span> <span class="token string">'@cartamd/plugin-attachment/default.css'</span><span class="token punctuation">;</span></code>`;return{c(){t=i("pre"),o=new z(!1),this.h()},l(p){t=c(p,"PRE",{class:!0});var l=q(t);o=W(l,!1),l.forEach(n),this.h()},h(){o.a=null,k(t,"class","language-ts")},m(p,l){e(p,t,l),o.m(m,t)},p:ta,d(p){p&&n(t)}}}function ua(H){let t,o,m=`<code class="language-svelte"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Carta<span class="token punctuation">,</span> MarkdownEditor <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'carta-md'</span><span class="token punctuation">;</span>
	<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> attachment <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@cartamd/plugin-attachment'</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> carta <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Carta</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
		<span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token function">attachment</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
				<span class="token function">upload</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
					<span class="token comment">/* ... */</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MarkdownEditor</span> <span class="token language-javascript"><span class="token punctuation">&#123;</span>carta<span class="token punctuation">&#125;</span></span> <span class="token punctuation">/></span></span></code>`;return{c(){t=i("pre"),o=new z(!1),this.h()},l(p){t=c(p,"PRE",{class:!0});var l=q(t);o=W(l,!1),l.forEach(n),this.h()},h(){o.a=null,k(t,"class","language-svelte")},m(p,l){e(p,t,l),o.m(m,t)},p:ta,d(p){p&&n(t)}}}function ra(H){let t,o="This plugin adds support for attachments.",m,p,l='<a href="#installation">Installation</a>',b,y,M,ea='<code class="language-undefined">npm i @cartamd/plugin-attachment</code>',E,f,B='<a href="#setup">Setup</a>',L,d,D='<a href="#styles">Styles</a>',P,w,G="Import the default theme, or create you own:",S,h,j,g,J='<a href="#extension">Extension</a>',R,v,I,_,K='<a href="#options">Options</a>',O,x,N="Here are the options you can pass to <code>attachment()</code>:",A,C,F,pa=`<code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AttachmentExtensionOptions</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">/**
	 * Upload a file to the server. Return the url of the uploaded file.
	 * If an error occurs, return null. This function does **not** handle errors.
	 * @param file The file to upload
	 * @returns The uploaded file url, or null if it failed
	 */</span>
	<span class="token function-variable function">upload</span><span class="token operator">:</span> <span class="token punctuation">(</span>file<span class="token operator">:</span> File<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span><span class="token punctuation">;</span>
	<span class="token comment">/**
	 * Supported mime types.
	 *
	 * @default ['image/png', 'image/jpeg', 'image/gif', 'image/svg+xml'].
	 */</span>
	supportedMimeTypes<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">/**
	 * Whether to disable the attach icon.
	 *
	 * @default false
	 */</span>
	disableIcon<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
	<span class="token comment">/**
	 * Custom drop overlay component. Use &#96;false&#96; to disable the overlay.
	 */</span>
	dropOverlay<span class="token operator">?</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token operator">|</span> <span class="token keyword">typeof</span> SvelteComponent<span class="token punctuation">;</span>
	<span class="token comment">/**
	 * Custom loading overlay component. Use &#96;false&#96; to disable the overlay.
	 */</span>
	loadingOverlay<span class="token operator">?</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token operator">|</span> <span class="token keyword">typeof</span> SvelteComponent<span class="token operator">&lt;</span><span class="token punctuation">&#123;</span> uploadingFiles<span class="token operator">:</span> Writable<span class="token operator">&lt;</span>File<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`,U;return h=new na({props:{$$slots:{default:[ia]},$$scope:{ctx:H}}}),v=new na({props:{$$slots:{default:[ua]},$$scope:{ctx:H}}}),{c(){t=i("p"),t.textContent=o,m=r(),p=i("h2"),p.innerHTML=l,b=r(),y=i("pre"),M=new z(!1),E=r(),f=i("h2"),f.innerHTML=B,L=r(),d=i("h3"),d.innerHTML=D,P=r(),w=i("p"),w.textContent=G,S=r(),sa(h.$$.fragment),j=r(),g=i("h3"),g.innerHTML=J,R=r(),sa(v.$$.fragment),I=r(),_=i("h2"),_.innerHTML=K,O=r(),x=i("p"),x.innerHTML=N,A=r(),C=i("pre"),F=new z(!1),this.h()},l(a){t=c(a,"P",{"data-svelte-h":!0}),$(t)!=="svelte-epoik3"&&(t.textContent=o),m=u(a),p=c(a,"H2",{id:!0,"data-svelte-h":!0}),$(p)!=="svelte-18vig38"&&(p.innerHTML=l),b=u(a),y=c(a,"PRE",{class:!0});var s=q(y);M=W(s,!1),s.forEach(n),E=u(a),f=c(a,"H2",{id:!0,"data-svelte-h":!0}),$(f)!=="svelte-1uj9ei1"&&(f.innerHTML=B),L=u(a),d=c(a,"H3",{id:!0,"data-svelte-h":!0}),$(d)!=="svelte-1obsuhg"&&(d.innerHTML=D),P=u(a),w=c(a,"P",{"data-svelte-h":!0}),$(w)!=="svelte-udn1pg"&&(w.textContent=G),S=u(a),aa(h.$$.fragment,a),j=u(a),g=c(a,"H3",{id:!0,"data-svelte-h":!0}),$(g)!=="svelte-1h1d05d"&&(g.innerHTML=J),R=u(a),aa(v.$$.fragment,a),I=u(a),_=c(a,"H2",{id:!0,"data-svelte-h":!0}),$(_)!=="svelte-qvxcr2"&&(_.innerHTML=K),O=u(a),x=c(a,"P",{"data-svelte-h":!0}),$(x)!=="svelte-j0z1h5"&&(x.innerHTML=N),A=u(a),C=c(a,"PRE",{class:!0});var T=q(C);F=W(T,!1),T.forEach(n),this.h()},h(){k(p,"id","installation"),M.a=null,k(y,"class","language-undefined"),k(f,"id","setup"),k(d,"id","styles"),k(g,"id","extension"),k(_,"id","options"),F.a=null,k(C,"class","language-ts")},m(a,s){e(a,t,s),e(a,m,s),e(a,p,s),e(a,b,s),e(a,y,s),M.m(ea,y),e(a,E,s),e(a,f,s),e(a,L,s),e(a,d,s),e(a,P,s),e(a,w,s),e(a,S,s),Z(h,a,s),e(a,j,s),e(a,g,s),e(a,R,s),Z(v,a,s),e(a,I,s),e(a,_,s),e(a,O,s),e(a,x,s),e(a,A,s),e(a,C,s),F.m(pa,C),U=!0},p(a,[s]){const T={};s&1&&(T.$$scope={dirty:s,ctx:a}),h.$set(T);const Q={};s&1&&(Q.$$scope={dirty:s,ctx:a}),v.$set(Q)},i(a){U||(Y(h.$$.fragment,a),Y(v.$$.fragment,a),U=!0)},o(a){X(h.$$.fragment,a),X(v.$$.fragment,a),U=!1},d(a){a&&(n(t),n(m),n(p),n(b),n(y),n(E),n(f),n(L),n(d),n(P),n(w),n(S),n(j),n(g),n(R),n(I),n(_),n(O),n(x),n(A),n(C)),V(h,a),V(v,a)}}}const ka={section:"Plugins",title:"Attachment"},{section:ha,title:ga}=ka;class va extends la{constructor(t){super(),ca(this,t,null,ra,oa,{})}}export{va as default,ka as metadata};
